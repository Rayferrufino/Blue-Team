# System Administration
## How do you change your DNS settings in Linux/Windows?
### On windows
-  from command line, start netsh >  
```cmd
interface show interface 
interface ip set dns name="ADAPTER-NAME" source="static" address="X.X.X.X"
```
- From Powershell
```cmd
PS C:\> Set-DnsClientServerAddress -InterfaceIndex 12 -ServerAddresses ("10.0.0.1","10.0.0.2")
```

### On Linux
- open a terminal
- use nano (or vi) to edit /etc/resolv.conf
- add a line of "nameserver x.x.x.x" with x.x.x.x being the IP address of your DNS server.
- save the file and you're done

# Encryption
## Does TLS use symmetric or asymmetric encryption?
- **TLS uses both asymmetric encryption and symmetric encryption**
- **The TLS handshake is done using asymmetric while the bulk data requires speed and therefore symmetric encrytion is used.**

## What’s the difference between symmetric and public-key cryptography?
- **symmetric uses a single key while public-key uses two**

## In public-key cryptography you have a public and a private key, and you often perform both encryption and signing functions. Which key is used for which function?

- **You encrypt with the other person’s public key, and you sign with your own private. If they confuse the two, don’t put them in charge of your PKI project**

## Describe the process of a TLS session being set up when someone visits a secure website.

- **The 'client hello' message**: The client initiates the handshake by sending a "hello" message to the server. The message will include which TLS version the client supports, the cipher suites supported, and a string of random bytes known as the "client random."
- **The 'server hello' message**: In reply to the client hello message, the server sends a message containing the server's SSL certificate, the server's chosen cipher suite, and the "server random," another random string of bytes that's generated by the server.
- **Authentication**: The client verifies the server's SSL certificate with the certificate authority that issued it. This confirms that the server is who it says it is, and that the client is interacting with the actual owner of the domain.
- **The premaster secret**: The client sends one more random string of bytes, the "premaster secret." The premaster secret is encrypted with the public key and can only be decrypted with the private key by the server. (The client gets the public key from the server's SSL certificate.)
- **Private key used**: The server decrypts the premaster secret.
- **Session keys created**: Both client and server generate session keys from the client random, the server random, and the premaster secret. They should arrive at the same results.
- **Client is ready**: The client sends a "finished" message that is encrypted with a session key.
- **Server is ready**: The server sends a "finished" message encrypted with a session key.
- **Secure symmetric encryption achieved**: The handshake is completed, and communication continues using the session keys.

## If someone steals the server’s private key can they decrypt all previous content sent to that server?
no quite sure about previous traffic but certanly 
- Traffic Eavesdropping and
- Man-In-The-Middle attacks
Can be achieved.

## What are some common ways that TLS is attacked, and/or what are some ways it’s been attacked in the past?

- **The Heartbleed attack works by tricking servers into leaking information stored in their memory. So any information handled by web servers is potentially vulnerable. That includes passwords, credit card numbers, medical records, and the contents of private email or social media messages.**
- **BEAST attack ? Short for Browser Exploit Against SSL/TLS, BEAST is a browser exploit against SSL/TLS that was revealed in late September 2011. This attack leverages weaknesses in cipher block chaining (CBC) to exploit the Secure Sockets Layer (SSL) / Transport Layer Security (TLS) protocol. The CBC vulnerability can enable man-in-the-middle (MITM) attacks against SSL in order to silently decrypt and obtain authentication tokens, thereby providing hackers access to data passed between a Web server and the Web browser accessing the server.**

## Cryptographically speaking, what is the main method of building a shared secret over a public medium?
- **Diffie-Hellman.**

## What’s the difference between Diffie-Hellman and RSA?
- **Diffie-Hellman is a key-exchange protocol, and RSA is an encryption/signing protocol.**

## What kind of attack is a standard Diffie-Hellman exchange vulnerable to?
- **Man-in-the-middle, as neither side is authenticated.**

## What is Forward Secrecy?
- **Forward Secrecy is a system that uses ephemeral session keys to do the actual encryption of TLS data so that even if the server’s private key were to be compromised, an attacker could not use it to decrypt captured data that had been sent to that server in the past.**

## What’s the difference between encoding, encryption, and hashing?

- **Encoding** is designed to protect the integrity of data as it crosses networks and systems, i.e. to keep its original message upon arriving, and it isn’t primarily a security function. It is easily reversible because the system for encoding is almost necessarily and by definition in wide use. 
- **Encryption** is designed purely for confidentiality and is reversible only if you have the appropriate key/keys.
- **Hashing** the operation is one-way (non-reversible), and the output is of a fixed length that is usually much smaller than the input.

## What is an IV used for in encryption?
- **An IV is used to initiate encryption by providing an addition (third) input in addition to the cleartext and the key. In general you want IVs that are random and unpredictable, which are used only once for each message. The goal is to ensure that two messages encrypted with the same key do not result in the same ciphertext.**

## What are block and stream ciphers? What are the differences, and when would you use one vs. the other?

- **Block-based encryption algorithms work on a block of cleartext at a time, and are best used for situations where you know how large the message will be, e.g., for a file. Stream ciphers work on single units of cleartext, such as a bit or a byte, and they’re best used when you’re not sure how long the message will be.**

## What are some examples of symmetric encryption algorithms?

- **DES, RCx, Blowfish, Rijndael (AES)**

## What are some examples of asymmetric encryption algorithms?

- **Diffie Hellman, RSA, EC, El Gamal, DSAC**

## What are some common block cipher modes?

- **ECB and CBC**

## What’s the main difference in security between ECB and CBC?

- **ECB just does a one-to-one lookup for encryption, without using an IV, which makes it fairly easy to attack using a chosen-plaintext attack. CBC uses an IV for the first block and then propagates the XOR of the previous block onto subsequent ones. The difference in results can be remarkable**

## What’s more secure, SSL, TLS, or HTTPS?
**Tricky question but for reference:**
**HTTPS stack:**

- *HTTP*
- *TLS (SSL)*
- *TCP*
- *IP*
- *Ethernet*


# Network Security
## What port does ping work over?
**Trick question. ICMP is a layer 3 protocol therefore has no ports and is neither TCP nor UDP which are layer 4**

## Do you prefer filtered ports or closed ports on your firewall?
- **Depends on the company security policy, size and other factors!**

## How exactly does traceroute/tracert work at the protocol level?
- **Linux: sents a UDP packet**
- **Windows: sents a ICMP packet**

- **Traceroute/tracert, so the packet sent through the network will contain a initial TTL of 1. Once it reach the first router/hop the packet's TTL is reduced by one (1-1=0), On receiving this TTL Time exceeded message, the traceroute program will come to know the source address and other details about the first hop. Then, it will sent another packet with the first router/hop info and a TTL of 2. Traceroute/Tracert will keep doing this until it reaches is final destination and then it will send a message that will be completely different from all the messages of "TTL Time exceeded".***
![traceroute](https://qph.fs.quoracdn.net/main-qimg-95c283bbddcbdc3b3dcadc72df761211)

## What are your favorite security assessment tools?

- **Metasploit, msfvenom, Nessus, OpenVas, Nikto, Nmap**

## How does a buffer overflow work?